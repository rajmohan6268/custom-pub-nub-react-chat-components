{"code":"import { useEffect } from \"react\";\r\nimport { usePubNub } from \"pubnub-react\";\r\nexport var useSubscribe = function (options) {\r\n    if (options === void 0) { options = {}; }\r\n    var pubnub = usePubNub();\r\n    var unsubscribe = function () {\r\n        pubnub.unsubscribe(options);\r\n    };\r\n    useEffect(function () {\r\n        options.channels = options.channels || [];\r\n        options.channelGroups = options.channelGroups || [];\r\n        var currentSubscriptions = pubnub.getSubscribedChannels() || [];\r\n        var currentGroups = pubnub.getSubscribedChannelGroups() || [];\r\n        var subscribeChannels = options.channels.filter(function (c) { return !currentSubscriptions.includes(c); });\r\n        var unsubscribeChannels = currentSubscriptions.filter(function (c) { return !options.channels.includes(c); });\r\n        var subscribeGroups = options.channelGroups.filter(function (c) { return !currentGroups.includes(c); });\r\n        var unsubscribeGroups = currentGroups.filter(function (c) { return !options.channelGroups.includes(c); });\r\n        if (subscribeChannels.length || subscribeGroups.length) {\r\n            pubnub.subscribe({\r\n                channels: subscribeChannels,\r\n                channelGroups: subscribeGroups,\r\n                withPresence: options.withPresence,\r\n            });\r\n        }\r\n        if (unsubscribeChannels.length || unsubscribeGroups.length) {\r\n            pubnub.unsubscribe({\r\n                channels: unsubscribeChannels,\r\n                channelGroups: unsubscribeGroups,\r\n            });\r\n        }\r\n    }, [JSON.stringify(options.channels), JSON.stringify(options.channelGroups)]);\r\n    return unsubscribe;\r\n};\r\n//# sourceMappingURL=use-subscribe.js.map","references":["/Users/rajmohan/Desktop/edvoy/rnd/react-chat-components/node_modules/@types/react/index.d.ts","/Users/rajmohan/Desktop/edvoy/rnd/react-chat-components/node_modules/@types/pubnub/index.d.ts","/Users/rajmohan/Desktop/edvoy/rnd/react-chat-components/node_modules/pubnub-react/dist/index.d.ts"],"map":"{\"version\":3,\"file\":\"use-subscribe.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/hooks/use-subscribe.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,OAAO,CAAC;AAElC,OAAO,EAAE,SAAS,EAAE,MAAM,cAAc,CAAC;AAEzC,MAAM,CAAC,IAAM,YAAY,GAAG,UAAC,OAAiC;IAAjC,wBAAA,EAAA,YAAiC;IAC5D,IAAM,MAAM,GAAG,SAAS,EAAE,CAAC;IAE3B,IAAM,WAAW,GAAG;QAClB,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;IAC9B,CAAC,CAAC;IAEF,SAAS,CAAC;QACR,OAAO,CAAC,QAAQ,GAAG,OAAO,CAAC,QAAQ,IAAI,EAAE,CAAC;QAC1C,OAAO,CAAC,aAAa,GAAG,OAAO,CAAC,aAAa,IAAI,EAAE,CAAC;QAEpD,IAAM,oBAAoB,GAAG,MAAM,CAAC,qBAAqB,EAAE,IAAI,EAAE,CAAC;QAClE,IAAM,aAAa,GAAG,MAAM,CAAC,0BAA0B,EAAE,IAAI,EAAE,CAAC;QAEhE,IAAM,iBAAiB,GAAG,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,UAAC,CAAC,IAAK,OAAA,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAjC,CAAiC,CAAC,CAAC;QAC5F,IAAM,mBAAmB,GAAG,oBAAoB,CAAC,MAAM,CAAC,UAAC,CAAC,IAAK,OAAA,CAAC,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,EAA7B,CAA6B,CAAC,CAAC;QAE9F,IAAM,eAAe,GAAG,OAAO,CAAC,aAAa,CAAC,MAAM,CAAC,UAAC,CAAC,IAAK,OAAA,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC,CAAC,EAA1B,CAA0B,CAAC,CAAC;QACxF,IAAM,iBAAiB,GAAG,aAAa,CAAC,MAAM,CAAC,UAAC,CAAC,IAAK,OAAA,CAAC,OAAO,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAlC,CAAkC,CAAC,CAAC;QAE1F,IAAI,iBAAiB,CAAC,MAAM,IAAI,eAAe,CAAC,MAAM,EAAE;YACtD,MAAM,CAAC,SAAS,CAAC;gBACf,QAAQ,EAAE,iBAAiB;gBAC3B,aAAa,EAAE,eAAe;gBAC9B,YAAY,EAAE,OAAO,CAAC,YAAY;aACnC,CAAC,CAAC;SACJ;QAED,IAAI,mBAAmB,CAAC,MAAM,IAAI,iBAAiB,CAAC,MAAM,EAAE;YAC1D,MAAM,CAAC,WAAW,CAAC;gBACjB,QAAQ,EAAE,mBAAmB;gBAC7B,aAAa,EAAE,iBAAiB;aACjC,CAAC,CAAC;SACJ;IACH,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;IAE9E,OAAO,WAAW,CAAC;AACrB,CAAC,CAAC\"}","dts":{"name":"/Users/rajmohan/Desktop/edvoy/rnd/react-chat-components/lib/node_modules/.cache/rollup-plugin-typescript2/placeholder/hooks/use-subscribe.d.ts","writeByteOrderMark":false,"text":"import { SubscribeParameters } from \"pubnub\";\r\nexport declare const useSubscribe: (options?: SubscribeParameters) => (() => void);\r\n"}}
