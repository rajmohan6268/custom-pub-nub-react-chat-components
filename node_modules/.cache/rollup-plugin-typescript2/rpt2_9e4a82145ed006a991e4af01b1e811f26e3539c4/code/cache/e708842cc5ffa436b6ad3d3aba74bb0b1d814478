{"code":"import { __assign, __awaiter, __generator } from \"tslib\";\r\nimport React, { useState, useRef, useEffect, } from \"react\";\r\nimport { useAtom } from \"jotai\";\r\nimport { usePubNub } from \"pubnub-react\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { useOuterClick } from \"../helpers\";\r\nimport { CurrentChannelAtom, ThemeAtom, TypingIndicatorTimeoutAtom, UsersMetaAtom, ErrorFunctionAtom, } from \"../state-atoms\";\r\nimport \"./message-input.scss\";\r\nimport EmojiIcon from \"../icons/emoji.svg\";\r\nimport FileIcon from \"../icons/file.svg\";\r\nimport ImageIcon from \"../icons/image.svg\";\r\nimport XCircleIcon from \"../icons/x-circle.svg\";\r\nimport SpinnerIcon from \"../icons/spinner.svg\";\r\nimport AirplaneIcon from \"../icons/airplane.svg\";\r\n/**\r\n * Allows users to compose messages using text and emojis\r\n * and automatically publish them on PubNub channels upon sending.\r\n */\r\nexport var MessageInput = function (props) {\r\n    var pubnub = usePubNub();\r\n    var _a = useState(props.draftMessage || \"\"), text = _a[0], setText = _a[1];\r\n    var _b = useState(null), file = _b[0], setFile = _b[1];\r\n    var _c = useState(false), emojiPickerShown = _c[0], setEmojiPickerShown = _c[1];\r\n    var _d = useState(false), typingIndicatorSent = _d[0], setTypingIndicatorSent = _d[1];\r\n    var _e = useState(), picker = _e[0], setPicker = _e[1];\r\n    var _f = useState(false), loader = _f[0], setLoader = _f[1];\r\n    var users = useAtom(UsersMetaAtom)[0];\r\n    var theme = useAtom(ThemeAtom)[0];\r\n    var channel = useAtom(CurrentChannelAtom)[0];\r\n    var onErrorObj = useAtom(ErrorFunctionAtom)[0];\r\n    var onError = onErrorObj.function;\r\n    var typingIndicatorTimeout = useAtom(TypingIndicatorTimeoutAtom)[0];\r\n    var inputRef = useRef(null);\r\n    var fileRef = useRef(null);\r\n    var pickerRef = useOuterClick(function () {\r\n        if (event.target.closest(\".pn-msg-input__emoji-toggle\"))\r\n            return;\r\n        setEmojiPickerShown(false);\r\n    });\r\n    /*\r\n    /* Helper functions\r\n    */\r\n    var autoSize = function () {\r\n        var input = inputRef.current;\r\n        if (!input)\r\n            return;\r\n        setTimeout(function () {\r\n            input.style.cssText = \"height: auto;\";\r\n            input.style.cssText = \"height: \".concat(input.scrollHeight, \"px;\");\r\n        }, 0);\r\n    };\r\n    var isValidInputText = function () {\r\n        return !!text.trim().length;\r\n    };\r\n    /*\r\n    /* Commands\r\n    */\r\n    var sendMessage = function () { return __awaiter(void 0, void 0, void 0, function () {\r\n        var message, e_1;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    _a.trys.push([0, 5, 6, 7]);\r\n                    if (!file && !isValidInputText())\r\n                        return [2 /*return*/];\r\n                    message = __assign(__assign({ id: uuidv4(), text: file ? \"\" : text, type: file ? \"\" : \"default\" }, (props.senderInfo && { sender: users.find(function (u) { return u.id === pubnub.getUUID(); }) })), { createdAt: new Date().toISOString() });\r\n                    setLoader(true);\r\n                    if (!file) return [3 /*break*/, 2];\r\n                    return [4 /*yield*/, pubnub.sendFile({ channel: channel, file: file, message: message })];\r\n                case 1:\r\n                    _a.sent();\r\n                    props.onSend && props.onSend(file);\r\n                    return [3 /*break*/, 4];\r\n                case 2:\r\n                    if (!text) return [3 /*break*/, 4];\r\n                    if (props.onBeforeSend)\r\n                        message = props.onBeforeSend(message) || message;\r\n                    return [4 /*yield*/, pubnub.publish({ channel: channel, message: message })];\r\n                case 3:\r\n                    _a.sent();\r\n                    props.onSend && props.onSend(message);\r\n                    _a.label = 4;\r\n                case 4:\r\n                    if (props.typingIndicator)\r\n                        stopTypingIndicator();\r\n                    clearInput();\r\n                    return [3 /*break*/, 7];\r\n                case 5:\r\n                    e_1 = _a.sent();\r\n                    onError(e_1);\r\n                    return [3 /*break*/, 7];\r\n                case 6:\r\n                    setLoader(false);\r\n                    return [7 /*endfinally*/];\r\n                case 7: return [2 /*return*/];\r\n            }\r\n        });\r\n    }); };\r\n    var startTypingIndicator = function () { return __awaiter(void 0, void 0, void 0, function () {\r\n        var message;\r\n        return __generator(this, function (_a) {\r\n            if (typingIndicatorSent)\r\n                return [2 /*return*/];\r\n            try {\r\n                setTypingIndicatorSent(true);\r\n                message = { message: { type: \"typing_on\" }, channel: channel };\r\n                pubnub.signal(message);\r\n            }\r\n            catch (e) {\r\n                onError(e);\r\n            }\r\n            return [2 /*return*/];\r\n        });\r\n    }); };\r\n    var stopTypingIndicator = function () { return __awaiter(void 0, void 0, void 0, function () {\r\n        var message;\r\n        return __generator(this, function (_a) {\r\n            if (!typingIndicatorSent)\r\n                return [2 /*return*/];\r\n            try {\r\n                setTypingIndicatorSent(false);\r\n                message = { message: { type: \"typing_off\" }, channel: channel };\r\n                pubnub.signal(message);\r\n            }\r\n            catch (e) {\r\n                onError(e);\r\n            }\r\n            return [2 /*return*/];\r\n        });\r\n    }); };\r\n    var clearInput = function () {\r\n        setFile(null);\r\n        setText(\"\");\r\n        autoSize();\r\n        fileRef.current.value = null;\r\n    };\r\n    /*\r\n    /* Event handlers\r\n    */\r\n    var handleEmojiInsertion = function (emoji) {\r\n        try {\r\n            if (!(\"native\" in emoji))\r\n                return;\r\n            setText(function (text) { return text + emoji.native; });\r\n            setEmojiPickerShown(false);\r\n        }\r\n        catch (e) {\r\n            onError(e);\r\n        }\r\n    };\r\n    var handleKeyPress = function (event) {\r\n        try {\r\n            if (event.key === \"Enter\" && !event.shiftKey) {\r\n                event.preventDefault();\r\n                sendMessage();\r\n            }\r\n        }\r\n        catch (e) {\r\n            onError(e);\r\n        }\r\n    };\r\n    var handleInputChange = function (event) {\r\n        try {\r\n            var textArea = event.target;\r\n            var newText = textArea.value;\r\n            if (props.typingIndicator && newText.length)\r\n                startTypingIndicator();\r\n            if (props.typingIndicator && !newText.length)\r\n                stopTypingIndicator();\r\n            props.onChange && props.onChange(newText);\r\n            autoSize();\r\n            setText(newText);\r\n        }\r\n        catch (e) {\r\n            onError(e);\r\n        }\r\n    };\r\n    var handleFileChange = function (event) {\r\n        try {\r\n            var file_1 = event.target.files[0];\r\n            setFile(file_1);\r\n            setText(file_1.name);\r\n        }\r\n        catch (e) {\r\n            onError(e);\r\n        }\r\n    };\r\n    /*\r\n    /* Lifecycle\r\n    */\r\n    useEffect(function () {\r\n        if (React.isValidElement(props.emojiPicker)) {\r\n            setPicker(React.cloneElement(props.emojiPicker, { onSelect: handleEmojiInsertion }));\r\n        }\r\n    }, [props.emojiPicker]);\r\n    useEffect(function () {\r\n        var timer = null;\r\n        if (typingIndicatorSent) {\r\n            timer = setTimeout(function () {\r\n                setTypingIndicatorSent(false);\r\n            }, (typingIndicatorTimeout - 1) * 1000);\r\n        }\r\n        return function () { return clearTimeout(timer); };\r\n    }, [typingIndicatorSent]);\r\n    /*\r\n    /* Renderers\r\n    */\r\n    var renderFileUpload = function () {\r\n        return (React.createElement(React.Fragment, null,\r\n            React.createElement(\"div\", null,\r\n                React.createElement(\"label\", { htmlFor: \"file-upload\", className: \"pn-msg-input__fileLabel\", title: \"Add a file\" }, props.fileUpload === \"image\" ? React.createElement(ImageIcon, null) : React.createElement(FileIcon, null)),\r\n                React.createElement(\"input\", { accept: props.fileUpload === \"image\" ? \"image/*\" : \"*\", className: \"pn-msg-input__fileInput\", \"data-testid\": \"file-upload\", id: \"file-upload\", onChange: handleFileChange, ref: fileRef, type: \"file\" })),\r\n            file && (React.createElement(\"div\", { title: \"Remove the file\", onClick: clearInput },\r\n                React.createElement(XCircleIcon, null)))));\r\n    };\r\n    var renderEmojiPicker = function () {\r\n        return (React.createElement(React.Fragment, null,\r\n            React.createElement(\"div\", { onClick: function () { return setEmojiPickerShown(true); }, title: \"Add an emoji\" },\r\n                React.createElement(EmojiIcon, null)),\r\n            emojiPickerShown && (React.createElement(\"div\", { className: \"pn-msg-input__emoji-picker\", ref: pickerRef }, picker))));\r\n    };\r\n    return (React.createElement(\"div\", { className: \"pn-msg-input pn-msg-input--\".concat(theme, \" \").concat(props.disabled ? \"pn-msg-input--disabled\" : \"\") },\r\n        React.createElement(\"div\", { className: \"pn-msg-input__wrapper\" },\r\n            React.createElement(\"div\", { className: \"pn-msg-input__icons\" },\r\n                React.createElement(\"div\", { className: \"pn-msg-input__emoji-toggle\" }, !props.disabled && props.emojiPicker && renderEmojiPicker()),\r\n                !props.disabled && props.fileUpload && renderFileUpload(),\r\n                props.extraActionsRenderer && props.extraActionsRenderer()),\r\n            React.createElement(\"textarea\", { className: \"pn-msg-input__textarea\", \"data-testid\": \"message-input\", disabled: props.disabled || !!file, onChange: function (e) { return handleInputChange(e); }, onKeyPress: function (e) { return handleKeyPress(e); }, placeholder: props.placeholder, ref: inputRef, rows: 1, value: text }),\r\n            !props.hideSendButton && !props.disabled && (React.createElement(\"button\", { className: \"pn-msg-input__send \".concat(isValidInputText() && \"pn-msg-input__send--active\"), disabled: loader || props.disabled, onClick: function () { return sendMessage(); }, title: \"Send\" }, loader ? React.createElement(SpinnerIcon, null) : props.sendButton)))));\r\n};\r\nMessageInput.defaultProps = {\r\n    disabled: false,\r\n    fileUpload: undefined,\r\n    hideSendButton: false,\r\n    placeholder: \"Send message\",\r\n    sendButton: React.createElement(AirplaneIcon, null),\r\n    senderInfo: false,\r\n    typingIndicator: false,\r\n};\r\n//# sourceMappingURL=message-input.js.map","references":["/Users/rajmohan/Desktop/edvoy/rnd/react-chat-components/node_modules/@types/react/index.d.ts","/Users/rajmohan/Desktop/edvoy/rnd/react-chat-components/node_modules/jotai/index.d.ts","/Users/rajmohan/Desktop/edvoy/rnd/react-chat-components/node_modules/pubnub-react/dist/index.d.ts","/Users/rajmohan/Desktop/edvoy/rnd/react-chat-components/node_modules/uuid/dist/index.js","/Users/rajmohan/Desktop/edvoy/rnd/react-chat-components/lib/src/types.ts","/Users/rajmohan/Desktop/edvoy/rnd/react-chat-components/lib/src/helpers.ts","/Users/rajmohan/Desktop/edvoy/rnd/react-chat-components/lib/src/state-atoms.ts"],"map":"{\"version\":3,\"file\":\"message-input.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/message-input/message-input.tsx\"],\"names\":[],\"mappings\":\";AAAA,OAAO,KAAK,EAAE,EAIZ,QAAQ,EACR,MAAM,EACN,SAAS,GAEV,MAAM,OAAO,CAAC;AACf,OAAO,EAAE,OAAO,EAAE,MAAM,OAAO,CAAC;AAChC,OAAO,EAAE,SAAS,EAAE,MAAM,cAAc,CAAC;AACzC,OAAO,EAAE,EAAE,IAAI,MAAM,EAAE,MAAM,MAAM,CAAC;AAEpC,OAAO,EAAE,aAAa,EAAE,MAAM,YAAY,CAAC;AAC3C,OAAO,EACL,kBAAkB,EAClB,SAAS,EACT,0BAA0B,EAC1B,aAAa,EACb,iBAAiB,GAClB,MAAM,gBAAgB,CAAC;AACxB,OAAO,sBAAsB,CAAC;AAC9B,OAAO,SAAS,MAAM,oBAAoB,CAAC;AAC3C,OAAO,QAAQ,MAAM,mBAAmB,CAAC;AACzC,OAAO,SAAS,MAAM,oBAAoB,CAAC;AAC3C,OAAO,WAAW,MAAM,uBAAuB,CAAC;AAChD,OAAO,WAAW,MAAM,sBAAsB,CAAC;AAC/C,OAAO,YAAY,MAAM,uBAAuB,CAAC;AAgCjD;;;GAGG;AACH,MAAM,CAAC,IAAM,YAAY,GAA0B,UAAC,KAAwB;IAC1E,IAAM,MAAM,GAAG,SAAS,EAAE,CAAC;IAErB,IAAA,KAAkB,QAAQ,CAAC,KAAK,CAAC,YAAY,IAAI,EAAE,CAAC,EAAnD,IAAI,QAAA,EAAE,OAAO,QAAsC,CAAC;IACrD,IAAA,KAAkB,QAAQ,CAAO,IAAI,CAAC,EAArC,IAAI,QAAA,EAAE,OAAO,QAAwB,CAAC;IACvC,IAAA,KAA0C,QAAQ,CAAC,KAAK,CAAC,EAAxD,gBAAgB,QAAA,EAAE,mBAAmB,QAAmB,CAAC;IAC1D,IAAA,KAAgD,QAAQ,CAAC,KAAK,CAAC,EAA9D,mBAAmB,QAAA,EAAE,sBAAsB,QAAmB,CAAC;IAChE,IAAA,KAAsB,QAAQ,EAAgB,EAA7C,MAAM,QAAA,EAAE,SAAS,QAA4B,CAAC;IAC/C,IAAA,KAAsB,QAAQ,CAAC,KAAK,CAAC,EAApC,MAAM,QAAA,EAAE,SAAS,QAAmB,CAAC;IAErC,IAAA,KAAK,GAAI,OAAO,CAAC,aAAa,CAAC,GAA1B,CAA2B;IAChC,IAAA,KAAK,GAAI,OAAO,CAAC,SAAS,CAAC,GAAtB,CAAuB;IAC5B,IAAA,OAAO,GAAI,OAAO,CAAC,kBAAkB,CAAC,GAA/B,CAAgC;IACvC,IAAA,UAAU,GAAI,OAAO,CAAC,iBAAiB,CAAC,GAA9B,CAA+B;IAChD,IAAM,OAAO,GAAG,UAAU,CAAC,QAAQ,CAAC;IAC7B,IAAA,sBAAsB,GAAI,OAAO,CAAC,0BAA0B,CAAC,GAAvC,CAAwC;IAErE,IAAM,QAAQ,GAAG,MAAM,CAAsB,IAAI,CAAC,CAAC;IACnD,IAAM,OAAO,GAAG,MAAM,CAAmB,IAAI,CAAC,CAAC;IAC/C,IAAM,SAAS,GAAG,aAAa,CAAC;QAC9B,IAAK,KAAK,CAAC,MAAkB,CAAC,OAAO,CAAC,6BAA6B,CAAC;YAAE,OAAO;QAC7E,mBAAmB,CAAC,KAAK,CAAC,CAAC;IAC7B,CAAC,CAAC,CAAC;IAEH;;MAEE;IAEF,IAAM,QAAQ,GAAG;QACf,IAAM,KAAK,GAAG,QAAQ,CAAC,OAAO,CAAC;QAC/B,IAAI,CAAC,KAAK;YAAE,OAAO;QAEnB,UAAU,CAAC;YACT,KAAK,CAAC,KAAK,CAAC,OAAO,GAAG,eAAe,CAAC;YACtC,KAAK,CAAC,KAAK,CAAC,OAAO,GAAG,kBAAW,KAAK,CAAC,YAAY,QAAK,CAAC;QAC3D,CAAC,EAAE,CAAC,CAAC,CAAC;IACR,CAAC,CAAC;IAEF,IAAM,gBAAgB,GAAG;QACvB,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,MAAM,CAAC;IAC9B,CAAC,CAAC;IAEF;;MAEE;IAEF,IAAM,WAAW,GAAG;;;;;;oBAEhB,IAAI,CAAC,IAAI,IAAI,CAAC,gBAAgB,EAAE;wBAAE,sBAAO;oBACrC,OAAO,GAAG,oBACZ,EAAE,EAAE,MAAM,EAAE,EACZ,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,EACtB,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,IACxB,CAAC,KAAK,CAAC,UAAU,IAAI,EAAE,MAAM,EAAE,KAAK,CAAC,IAAI,CAAC,UAAC,CAAC,IAAK,OAAA,CAAC,CAAC,EAAE,KAAK,MAAM,CAAC,OAAO,EAAE,EAAzB,CAAyB,CAAC,EAAE,CAAC,KACjF,SAAS,EAAE,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE,GAClB,CAAC;oBACpB,SAAS,CAAC,IAAI,CAAC,CAAC;yBAEZ,IAAI,EAAJ,wBAAI;oBACN,qBAAM,MAAM,CAAC,QAAQ,CAAC,EAAE,OAAO,SAAA,EAAE,IAAI,MAAA,EAAE,OAAO,SAAA,EAAE,CAAC,EAAA;;oBAAjD,SAAiD,CAAC;oBAClD,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;;;yBAC1B,IAAI,EAAJ,wBAAI;oBACb,IAAI,KAAK,CAAC,YAAY;wBAAE,OAAO,GAAG,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,IAAI,OAAO,CAAC;oBACzE,qBAAM,MAAM,CAAC,OAAO,CAAC,EAAE,OAAO,SAAA,EAAE,OAAO,SAAA,EAAE,CAAC,EAAA;;oBAA1C,SAA0C,CAAC;oBAC3C,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;;;oBAGxC,IAAI,KAAK,CAAC,eAAe;wBAAE,mBAAmB,EAAE,CAAC;oBACjD,UAAU,EAAE,CAAC;;;;oBAEb,OAAO,CAAC,GAAC,CAAC,CAAC;;;oBAEX,SAAS,CAAC,KAAK,CAAC,CAAC;;;;;SAEpB,CAAC;IAEF,IAAM,oBAAoB,GAAG;;;YAC3B,IAAI,mBAAmB;gBAAE,sBAAO;YAChC,IAAI;gBACF,sBAAsB,CAAC,IAAI,CAAC,CAAC;gBACvB,OAAO,GAAG,EAAE,OAAO,EAAE,EAAE,IAAI,EAAE,WAAW,EAAE,EAAE,OAAO,SAAA,EAAE,CAAC;gBAC5D,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;aACxB;YAAC,OAAO,CAAC,EAAE;gBACV,OAAO,CAAC,CAAC,CAAC,CAAC;aACZ;;;SACF,CAAC;IAEF,IAAM,mBAAmB,GAAG;;;YAC1B,IAAI,CAAC,mBAAmB;gBAAE,sBAAO;YACjC,IAAI;gBACF,sBAAsB,CAAC,KAAK,CAAC,CAAC;gBACxB,OAAO,GAAG,EAAE,OAAO,EAAE,EAAE,IAAI,EAAE,YAAY,EAAE,EAAE,OAAO,SAAA,EAAE,CAAC;gBAC7D,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;aACxB;YAAC,OAAO,CAAC,EAAE;gBACV,OAAO,CAAC,CAAC,CAAC,CAAC;aACZ;;;SACF,CAAC;IAEF,IAAM,UAAU,GAAG;QACjB,OAAO,CAAC,IAAI,CAAC,CAAC;QACd,OAAO,CAAC,EAAE,CAAC,CAAC;QACZ,QAAQ,EAAE,CAAC;QACX,OAAO,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC;IAC/B,CAAC,CAAC;IAEF;;MAEE;IAEF,IAAM,oBAAoB,GAAG,UAAC,KAAyB;QACrD,IAAI;YACF,IAAI,CAAC,CAAC,QAAQ,IAAI,KAAK,CAAC;gBAAE,OAAO;YACjC,OAAO,CAAC,UAAC,IAAI,IAAK,OAAA,IAAI,GAAG,KAAK,CAAC,MAAM,EAAnB,CAAmB,CAAC,CAAC;YACvC,mBAAmB,CAAC,KAAK,CAAC,CAAC;SAC5B;QAAC,OAAO,CAAC,EAAE;YACV,OAAO,CAAC,CAAC,CAAC,CAAC;SACZ;IACH,CAAC,CAAC;IAEF,IAAM,cAAc,GAAG,UAAC,KAAyC;QAC/D,IAAI;YACF,IAAI,KAAK,CAAC,GAAG,KAAK,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;gBAC5C,KAAK,CAAC,cAAc,EAAE,CAAC;gBACvB,WAAW,EAAE,CAAC;aACf;SACF;QAAC,OAAO,CAAC,EAAE;YACV,OAAO,CAAC,CAAC,CAAC,CAAC;SACZ;IACH,CAAC,CAAC;IAEF,IAAM,iBAAiB,GAAG,UAAC,KAAuC;QAChE,IAAI;YACF,IAAM,QAAQ,GAAG,KAAK,CAAC,MAA6B,CAAC;YACrD,IAAM,OAAO,GAAG,QAAQ,CAAC,KAAK,CAAC;YAE/B,IAAI,KAAK,CAAC,eAAe,IAAI,OAAO,CAAC,MAAM;gBAAE,oBAAoB,EAAE,CAAC;YACpE,IAAI,KAAK,CAAC,eAAe,IAAI,CAAC,OAAO,CAAC,MAAM;gBAAE,mBAAmB,EAAE,CAAC;YAEpE,KAAK,CAAC,QAAQ,IAAI,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;YAC1C,QAAQ,EAAE,CAAC;YACX,OAAO,CAAC,OAAO,CAAC,CAAC;SAClB;QAAC,OAAO,CAAC,EAAE;YACV,OAAO,CAAC,CAAC,CAAC,CAAC;SACZ;IACH,CAAC,CAAC;IAEF,IAAM,gBAAgB,GAAG,UAAC,KAAoC;QAC5D,IAAI;YACF,IAAM,MAAI,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YACnC,OAAO,CAAC,MAAI,CAAC,CAAC;YACd,OAAO,CAAC,MAAI,CAAC,IAAI,CAAC,CAAC;SACpB;QAAC,OAAO,CAAC,EAAE;YACV,OAAO,CAAC,CAAC,CAAC,CAAC;SACZ;IACH,CAAC,CAAC;IAEF;;MAEE;IACF,SAAS,CAAC;QACR,IAAI,KAAK,CAAC,cAAc,CAAC,KAAK,CAAC,WAAW,CAAC,EAAE;YAC3C,SAAS,CAAC,KAAK,CAAC,YAAY,CAAC,KAAK,CAAC,WAAW,EAAE,EAAE,QAAQ,EAAE,oBAAoB,EAAE,CAAC,CAAC,CAAC;SACtF;IACH,CAAC,EAAE,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC;IAExB,SAAS,CAAC;QACR,IAAI,KAAK,GAAG,IAAI,CAAC;QAEjB,IAAI,mBAAmB,EAAE;YACvB,KAAK,GAAG,UAAU,CAAC;gBACjB,sBAAsB,CAAC,KAAK,CAAC,CAAC;YAChC,CAAC,EAAE,CAAC,sBAAsB,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;SACzC;QAED,OAAO,cAAM,OAAA,YAAY,CAAC,KAAK,CAAC,EAAnB,CAAmB,CAAC;IACnC,CAAC,EAAE,CAAC,mBAAmB,CAAC,CAAC,CAAC;IAE1B;;MAEE;IAEF,IAAM,gBAAgB,GAAG;QACvB,OAAO,CACL;YACE;gBACE,+BAAO,OAAO,EAAC,aAAa,EAAC,SAAS,EAAC,yBAAyB,EAAC,KAAK,EAAC,YAAY,IAChF,KAAK,CAAC,UAAU,KAAK,OAAO,CAAC,CAAC,CAAC,oBAAC,SAAS,OAAG,CAAC,CAAC,CAAC,oBAAC,QAAQ,OAAG,CACtD;gBACR,+BACE,MAAM,EAAE,KAAK,CAAC,UAAU,KAAK,OAAO,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,EACtD,SAAS,EAAC,yBAAyB,iBACvB,aAAa,EACzB,EAAE,EAAC,aAAa,EAChB,QAAQ,EAAE,gBAAgB,EAC1B,GAAG,EAAE,OAAO,EACZ,IAAI,EAAC,MAAM,GACX,CACE;YACL,IAAI,IAAI,CACP,6BAAK,KAAK,EAAC,iBAAiB,EAAC,OAAO,EAAE,UAAU;gBAC9C,oBAAC,WAAW,OAAG,CACX,CACP,CACA,CACJ,CAAC;IACJ,CAAC,CAAC;IAEF,IAAM,iBAAiB,GAAG;QACxB,OAAO,CACL;YACE,6BAAK,OAAO,EAAE,cAAM,OAAA,mBAAmB,CAAC,IAAI,CAAC,EAAzB,CAAyB,EAAE,KAAK,EAAC,cAAc;gBACjE,oBAAC,SAAS,OAAG,CACT;YAEL,gBAAgB,IAAI,CACnB,6BAAK,SAAS,EAAC,4BAA4B,EAAC,GAAG,EAAE,SAAS,IACvD,MAAM,CACH,CACP,CACA,CACJ,CAAC;IACJ,CAAC,CAAC;IAEF,OAAO,CACL,6BACE,SAAS,EAAE,qCAA8B,KAAK,cAC5C,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,wBAAwB,CAAC,CAAC,CAAC,EAAE,CAC9C;QAEF,6BAAK,SAAS,EAAC,uBAAuB;YACpC,6BAAK,SAAS,EAAC,qBAAqB;gBAClC,6BAAK,SAAS,EAAC,4BAA4B,IACxC,CAAC,KAAK,CAAC,QAAQ,IAAI,KAAK,CAAC,WAAW,IAAI,iBAAiB,EAAE,CACxD;gBACL,CAAC,KAAK,CAAC,QAAQ,IAAI,KAAK,CAAC,UAAU,IAAI,gBAAgB,EAAE;gBACzD,KAAK,CAAC,oBAAoB,IAAI,KAAK,CAAC,oBAAoB,EAAE,CACvD;YAEN,kCACE,SAAS,EAAC,wBAAwB,iBACtB,eAAe,EAC3B,QAAQ,EAAE,KAAK,CAAC,QAAQ,IAAI,CAAC,CAAC,IAAI,EAClC,QAAQ,EAAE,UAAC,CAAC,IAAK,OAAA,iBAAiB,CAAC,CAAC,CAAC,EAApB,CAAoB,EACrC,UAAU,EAAE,UAAC,CAAC,IAAK,OAAA,cAAc,CAAC,CAAC,CAAC,EAAjB,CAAiB,EACpC,WAAW,EAAE,KAAK,CAAC,WAAW,EAC9B,GAAG,EAAE,QAAQ,EACb,IAAI,EAAE,CAAC,EACP,KAAK,EAAE,IAAI,GACX;YAED,CAAC,KAAK,CAAC,cAAc,IAAI,CAAC,KAAK,CAAC,QAAQ,IAAI,CAC3C,gCACE,SAAS,EAAE,6BAAsB,gBAAgB,EAAE,IAAI,4BAA4B,CAAE,EACrF,QAAQ,EAAE,MAAM,IAAI,KAAK,CAAC,QAAQ,EAClC,OAAO,EAAE,cAAM,OAAA,WAAW,EAAE,EAAb,CAAa,EAC5B,KAAK,EAAC,MAAM,IAEX,MAAM,CAAC,CAAC,CAAC,oBAAC,WAAW,OAAG,CAAC,CAAC,CAAC,KAAK,CAAC,UAAU,CACrC,CACV,CACG,CACF,CACP,CAAC;AACJ,CAAC,CAAC;AAEF,YAAY,CAAC,YAAY,GAAG;IAC1B,QAAQ,EAAE,KAAK;IACf,UAAU,EAAE,SAAS;IACrB,cAAc,EAAE,KAAK;IACrB,WAAW,EAAE,cAAc;IAC3B,UAAU,EAAE,oBAAC,YAAY,OAAG;IAC5B,UAAU,EAAE,KAAK;IACjB,eAAe,EAAE,KAAK;CACvB,CAAC\"}","dts":{"name":"/Users/rajmohan/Desktop/edvoy/rnd/react-chat-components/lib/node_modules/.cache/rollup-plugin-typescript2/placeholder/message-input/message-input.d.ts","writeByteOrderMark":false,"text":"import { FC, ReactElement } from \"react\";\r\nimport { MessagePayload, EmojiPickerElementProps } from \"../types\";\r\nimport \"./message-input.scss\";\r\nexport interface MessageInputProps {\r\n    /** Option to set a placeholder message to display in the text window. */\r\n    placeholder?: string;\r\n    /** Option to set a draft message to display in the text window. */\r\n    draftMessage?: string;\r\n    /** Option to attach sender data directly to each message. Enable it for high-throughput environments.\r\n     * This is an alternative to providing a full list of users directly into the Chat provider. */\r\n    senderInfo?: boolean;\r\n    /** Option to enable/disable firing the typing events when a user is typing a message. */\r\n    typingIndicator?: boolean;\r\n    /** Option to enable/disable the internal file upload capability. */\r\n    fileUpload?: \"image\" | \"all\";\r\n    /** Option to disable the input from composing and sending messages. */\r\n    disabled?: boolean;\r\n    /** Option to hide the Send button. */\r\n    hideSendButton?: boolean;\r\n    /** Custom UI component to override default display for the Send button. */\r\n    sendButton?: JSX.Element | string;\r\n    /** Option to pass in an emoji picker if you want it to be rendered in the input. For more details, refer to the Emoji Pickers section in the docs. */\r\n    emojiPicker?: ReactElement<EmojiPickerElementProps>;\r\n    /** Callback to handle an event when the text value changes. */\r\n    onChange?: (value: string) => void;\r\n    /** Callback to modify message content before sending it. This only works for text messages, not files. */\r\n    onBeforeSend?: (value: MessagePayload) => MessagePayload;\r\n    /** Callback for extra actions after sending a message. */\r\n    onSend?: (value: MessagePayload | File) => void;\r\n    /** Option to provide an extra actions renderer to add custom action buttons to the input. */\r\n    extraActionsRenderer?: () => JSX.Element;\r\n}\r\n/**\r\n * Allows users to compose messages using text and emojis\r\n * and automatically publish them on PubNub channels upon sending.\r\n */\r\nexport declare const MessageInput: FC<MessageInputProps>;\r\n"}}
